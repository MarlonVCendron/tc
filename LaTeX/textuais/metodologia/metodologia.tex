\chapter{Metodologia}

Nesse capítulo serão apresentados os passos metodológicos para a realização do trabalho, que tem como objetivo principal estudar a
formação e consolidação de memórias em RNPs, com foco em analisar o impacto do sono nesse processo. Para estudar a influência do
sono na formação e recordação de assembleias neu\-ro\-nais será simulado um modelo de RNP com diferentes formas de plasticidade. A
Figura~\ref{fig_metodologia} apresenta uma visão geral da metodologia, contendo os passos para criação do modelo, que serão
descritos nas seções subsequentes.

\begin{figure}[!ht]
\caption{Visão geral da metodologia: passos para construção do modelo e simulação e análise.}
\centering{
\parbox{\linewidth}{
\includegraphics[width=\linewidth]{figuras/metodologia.png}\label{fig_metodologia}
% \fonte{}
}}
\end{figure}


\section{Modelo dos neurônios}

A unidade básica de uma RNP é o neurônio, então o primeiro passo para o modelo é a modelagem do neurônio. O modelo de neurônio
utilizado foi o \textit{Leaky Integrate-and-Fire} (LIF) devido à sua simplicidade, que captura o comportamento geral de um
neurônio enquanto permite simulações rápidas de larga escala, como apresentado na Seção~\ref{section_modelos_neuronios}.

O modelo LIF utilizado possui algumas diferenças do descrito na Seção~\ref{section_modelos_neuronios}, pois implementa adaptação
por frequência de disparo\footnote{Comportamento de um neurônio que reduz sua frequência de disparo em resposta a um estímulo
constante.} e segue a Equação~\ref{eq_lif_sfa}.

\begin{equation}
\label{eq_lif_sfa}
\tau^m\frac{dv_i}{dt} = (v^{rest} - v_i) + g_i^{exc}(t)(v^{exc} - v_i)+ (g_i^{gaba}(t) + g_i^{a}(t))(v^{ini} - v_i)
\end{equation}

\noindent{}onde $v_i(t)$, $v^{rest}$, $v^{exc}$, $v^{ini}$ se referem, respectivamente, ao potencial de membrana do neurônio,
potencial de repouso, potencial excitatório e potencial inibitório. As condutâncias são descritas por $g_i^{exc}(t)$,
$g_i^{gaba}(t)$, $g_i^{a}(t)$, respectivamente excitatória, inibitória pelos neurônios pré-sinápticos GABAérgicos e inibitória
pela adaptação por frequência de disparo, e o comportamento dessas condutâncias está definido nas
Equações~\ref{eq_lif_sfa_exc},~\ref{eq_lif_sfa_ini} e~\ref{eq_lif_sfa_a}. 

\begin{equation}
\label{eq_lif_sfa_exc}
\frac{dg_i^{exc}}{dt} = -\frac{g_i^{exc}}{\tau^{exc}} + \sum_{j\in exc}{w_{ij}S_j(t)}
\end{equation}

\begin{equation}
\label{eq_lif_sfa_ini}
\frac{dg_i^{gaba}}{dt} = -\frac{g_i^{gaba}}{\tau^{gaba}} + \sum_{j\in ini}{w_{ij}S_j(t)}
\end{equation}

\begin{equation}
\label{eq_lif_sfa_a}
\frac{dg_i^{a}}{dt} = -\frac{g_i^{a}}{\tau^{a}} + \Delta^{a}S_i(t)
\end{equation}

\begin{equation}
\label{eq_lif_sfa_spikes}
S_j(t) = \sum_{k}{\delta(t-t_j^k)}
\end{equation}

\noindent{}onde $w_{ij}$ refere-se ao peso da sinapse do neurônio $i$ para o $j$. A Equação~\ref{eq_lif_sfa_spikes} representa a
soma de disparos no momento $t$. Nessas equações, a condutância $g$ tende a zero com o tempo, mas quando há um disparo dos
neurônios pré-sinápticos essa condutância sobe, exceto no caso da condutância pela adaptação do neurônio, que aumenta seguindo um
fator $\Delta^{a}S_i(t)$ quando o próprio neurônio dispara.


\section{Modelo das sinapses}

O próximo passo foi simular como os neurônios interagem entre si. Para isso, foi utilizado o modelo de sinapse de condução,
apresentado na Seção~\ref{subsection_modelos_sinapses}.

\section{Modelos de plasticidade}

As sinapses, porém, não serão estáticas e terão diversas formas de plasticidade simuladas. Todas as sinapses serão plásticas, de
acordo com os seguintes modelos de plasticidade: PCP, PDTD-E, heterossináptica e a induzida por transmissor, apresentados na
Seção~\ref{section_modelos_plasticidade}.

\section{Arquitetura da rede}

A rede é estruturada com um total de 5.120 neurônios do tipo LIF, distribuídos em dois grupos principais. O primeiro grupo é
formado por 4.096 neurônios excitatórios, enquanto o segundo grupo contém 1.024 neurônios inibitórios. Além disso, há grupos
auxiliares como a retina (Detalhada na Seção~\ref{subsection_retina}) e o grupo responsável pelos padrões de sono (Detalhado na
Seção~\ref{subsection_experimento}). Para as conexões entre o grupo excitatório e inibitório, cada neurônio é conectado a 10\% dos
neurônios de outro grupo ou do seu próprio grupo, e essa conectividade é estabelecida de forma aleatória. As conexões excitatórias
entre neurônios são moduladas pelo neurotransmissor glutamato, com receptores AMPA e NMDA, enquanto as conexões inibitórias são
moduladas pelo neurotransmissor GABA.

\subsection{Modelo da retina}\label{subsection_retina}

De modo a simular a entrada de estímulos visuais, foi simulada uma retina. A retina é composta de 4.096 neurônios LIF, com cada
neurônio representando um pixel em uma imagem de 64$\times$64 pixels. Cada neurônio excitatório da RNP recebe conexões dos
neurônios da retina de uma área circular de raio 8, em que o centro do círculo é escolhido aleatoriamente para cada neurônio. As
conexões da retina com a RNP também são plásticas.

Como explicado na Seção~\ref{section_experimento}, os estímulos são imagens simples de serem reconhecidas, como formas
geométricas e símbolos. Essas imagens serão binárias: apenas preto e branco; o neurônio da retina correspondente a um pixel preto
irá disparar com frequência de 10Hz, enquanto o neurônio correspondente a um pixel branco irá disparar com frequência de 35Hz.

\subsection{Simulação do sono}\label{subsection_sono}

Para simular o sono, a rede funcionará de dois modos diferentes intercalados: um modo de atividade, em que a rede vai funcionar
normalmente enquanto recebe estímulos, e um modo de inatividade, em que será simulado o sono. 

Durante a fase de inatividade, nenhum estímulo será apresentado à rede, mas ela vai continuar sendo simulada normalmente. Além
disso, essa fase será dividida em duas subfases de acordo com as fases do sono real REM e NREM. 


Para simular cada fase do sono, existe um grupo de 256 neurônios que ativam de maneira sinusoidal e conectam-se a 20\% dos
neurônios do grupo de neurônios excitatórios

receberão uma corrente sinusoidal de frequência e amplitude diferentes para cada fase de modo a tentar imitar os padrões de
atividade cerebral durante o sono observados em eletroencefalograma; também serão simulados outros sinais característicos do sono
de forma similar injetando corrente, como os fusos do sono que ocorrem durante a fase N2.

\input{textuais/metodologia/experimentos}


% https://sci-hub.mksa.top/10.1523/JNEUROSCI.22-19-08691.2002
% mencionar esse artigo que estimula 25% dos neurônios no sono
% \cite{bazhenovModel2002}
% !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!